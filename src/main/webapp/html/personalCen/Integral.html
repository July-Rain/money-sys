<!DOCTYPE html>
<html lang="en">
<head>
    <title>江苏省公安厅法律学校 | Sinorock</title>
    <#include "/header.html">
</head>
<style>
    .header-right ul{
        background: transparent;
    }
    .header-right ul li:after{
        content: '';
    }
    .el-menu--horizontal .el-menu-item,
    .el-menu--horizontal .el-submenu{
        float: left;
        height: 70px;
        /*line-height: 70px;*/
        margin: 0;
        border-bottom: 2px solid transparent;
        color: #fff;
    }
    .el-menu--horizontal>.el-submenu .el-submenu__title {
        height: 70px;
        /* line-height: 70px; */
        border-bottom: 2px solid transparent;
        color: #909399;
    }
    .header-right ul li a{
        text-align: center;
        padding: 0;
        /*margin: 10px 0;*/
        box-sizing: border-box;
        height: auto;
        display: inline-block;
    }
    .header-right .el-menu-item [class^=el-icon-],
    .header-right .el-submenu [class^=el-icon-],
    .el-menu--horizontal>.el-submenu .el-submenu__icon-arrow{
        font-size: 30px;
        color: #fff;
    }
    /*.header-right .el-submenu [class^=el-icon-]*/
    .header-right ul li a span{
        display: block;
        margin-top: -10px;
        line-height: 10px;
    }
    .header-right .el-menu-item:hover a,
    .header-right .el-submenu:hover a,
    .header-right .el-menu-item:hover [class^=el-icon-],
    .header-right .el-submenu:hover [class^=el-icon-],
    .header-right .el-submenu:hover .el-submenu__title [class^=el-icon-]{
        color: #909399;
    }
    .el-submenu__icon-arrow{
        margin-top: 16px;
    }
    .el-menu--horizontal .el-menu .el-menu-item a{
        color: #909399;
    }
    .el-menu--horizontal .el-menu .el-menu-item a:hover{
        color: #000;
    }
    .el-menu--horizontal .el-menu .el-menu-item, .el-menu--horizontal .el-menu .el-submenu__title {
        background-color: #fff;
        float: none;
        height: 36px;
        line-height: 36px;
        padding: 0 10px;
        color: #909399;
        display: inline-block;//悬浮块横向显示
    }
</style>
<body>
<div id="app" v-cloak>
    <div class="header">
        <div class="header-left">
            <img src="${rc.contextPath}/statics/img/logo.png">
            <a href="javascript:;">江苏省公安厅法律学校</a>
            <input style="display: none" id="menuId" value="${menuId}">
        </div>
        <div class="header-right">
            <!--<ul>-->
                <!--<li v-for="item in navData">-->
                    <!--<a href="javascript:;">-->
                        <!--<i :class="item.icon"></i>-->
                        <!--<p>{{item.name}}</p>-->
                    <!--</a>-->
                <!--</li>-->
            <!--</ul>-->
            <!--<el-menu :default-active="activeIndex" class="el-menu-demo" mode="horizontal" @select="handleSelect">-->
                <!--<el-menu-item index="1">-->
                    <!--<a href="javascript:;">-->
                        <!--<i class="el-icon-tickets"></i>-->
                        <!--<span>处理中心</span>-->
                    <!--</a>-->
                <!--</el-menu-item>-->
                <!--<el-submenu index="2">-->
                    <!--<template slot="title">-->
                        <!--<a href="javascript:;">-->
                            <!--<i class="el-icon-tickets"></i>-->
                            <!--<span>我的工作台</span>-->
                        <!--</a>-->
                    <!--</template>-->
                    <!--<el-menu-item index="2-1">-->
                        <!--<a href="javascript:;">-->
                            <!--<i class="el-icon-tickets"></i>-->
                            <!--<span>选项1</span>-->
                        <!--</a>-->
                    <!--</el-menu-item>-->
                    <!--<el-menu-item index="2-2">-->
                        <!--<a href="javascript:;">-->
                            <!--<i class="el-icon-tickets"></i>-->
                            <!--<span>选项2</span>-->
                        <!--</a>-->
                    <!--</el-menu-item>-->
                    <!--<el-menu-item index="2-3">-->
                        <!--<a href="javascript:;">-->
                            <!--<i class="el-icon-tickets"></i>-->
                            <!--<span>选项3</span>-->
                        <!--</a>-->
                    <!--</el-menu-item>-->
                <!--</el-submenu>-->
                <!--<el-menu-item index="3" disabled>-->
                    <!--<a href="javascript:;">-->
                        <!--<i class="el-icon-tickets"></i>-->
                        <!--<span>消息中心</span>-->
                    <!--</a>-->
                <!--</el-menu-item>-->
                <!--<el-menu-item index="4">-->
                    <!--<a href="javascript:;">-->
                        <!--<i class="el-icon-tickets"></i>-->
                        <!--<span>订单管理</span>-->
                    <!--</a>-->
                <!--</el-menu-item>-->
            <!--</el-menu>-->
        </div>
    </div>
    <div class="container">
        <el-row :gutter="24">
            <el-col :span="20">
                <el-tabs type="border-card">
                    <el-tab-pane label="我的积分">
                        <div>

                            <el-form :inline="true" :model="formInline" ref="formInline" class="demo-form-inline">
                                <el-form-item prop="type">
                                    <el-button size="mini" type="primary">类型</el-button>
                                    <el-select v-model="formInline.type" size="mini">
                                        <el-option key="0" label="学分"  value="0"></el-option>
                                        <el-option key="1" label="积分"  value="1"></el-option>
                                    </el-select>
                                </el-form-item>
                                <el-form-item prop="startTime">
                                    <el-button size="mini" type="primary">开始时间</el-button>
                                    <el-date-picker type="date" format="yyyy年MM月dd日"
                                                    value-format="yyyy-MM-dd" placeholder="开始时间"
                                                    v-model="formInline.startTime"></el-date-picker>
                                </el-form-item>

                                <el-form-item prop="endTime">
                                    <el-button size="mini" type="primary">结束时间</el-button>
                                    <el-date-picker type="date" format="yyyy年MM月dd日"
                                                    value-format="yyyy-MM-dd" placeholder="结束时间"
                                                    v-model="formInline.endTime"></el-date-picker>
                                </el-form-item>

                                <el-form-item>
                                    <el-button type="primary" @click="onSubmit" size="mini">查询</el-button>
                                    <el-button size="mini" @click="resetForm('formInline')">重置</el-button>
                                </el-form-item>
                            </el-form>
                            <el-table
                                    :data="tableData"
                                    border
                                    style="width: 100%">
                                <el-table-column
                                        type="index"
                                        label="序号"
                                        header-align="center"
                                        align="center">
                                </el-table-column>
                                <el-table-column
                                        prop="type"
                                        label="学分/学分"
                                        header-align="center"
                                        align="center"
                                        >
                                    <template slot-scope="scope">
                                        <el-tag v-if="scope.row.type === '0'" size="small">学分</el-tag>
                                        <el-tag v-else size="small" type="warning">积分</el-tag>
                                    </template>
                                </el-table-column>

                                <el-table-column
                                        prop="point"
                                        label="分数"
                                        header-align="center"
                                        align="center" >
                                </el-table-column>
                                <el-table-column
                                        prop="src"
                                        label="来源"
                                        header-align="center"
                                        align="center"
                                        >
                                </el-table-column>
                                <el-table-column
                                        prop="createTime"
                                        label="时间"
                                        header-align="center"
                                        align="center"
                                >
                                </el-table-column>
                            </el-table>
                            <el-pagination
                                    @size-change="handleSizeChange"
                                    @current-change="handleCurrentChange"
                                    :current-page="formInline.currPage"
                                    :page-sizes="[10, 20, 30, 40]"
                                    :page-size="formInline.pageSize"
                                    layout="total, sizes, prev, pager, next, jumper"
                                    :total="formInline.totalCount">
                            </el-pagination>
                        </div>
                    </el-tab-pane>
                </el-tabs>
            </el-col>

            <el-col :span="4">
                <el-card>
                    <el-button>我的总积分：{{info.integralPoint}}</el-button>
                    <el-button>我的积分总排名：{{info.allItrRank}}</el-button>
                    <el-button>我的积分部门排名：{{info.orgItrRank}}</el-button>
                </el-card>
                <el-card>
                    <el-button>我的总学分：{{info.creditPoint}}</el-button>
                    <el-button>我的学分总排名：{{info.allCdtRank}}</el-button>
                    <el-button>我的学分部门排名：{{info.orgCdtRank}}</el-button>
                </el-card>
            </el-col>
        </el-row>
    </div>
</div>
</body>

<!-- import [current] JavaScript -->
<script src="${rc.contextPath}/js/personalCen/Integral.js?_${.now?long}"></script>
</html>
